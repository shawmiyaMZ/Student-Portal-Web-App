<?php

// if(isset($_POST['create'])) {
//     echo 'user submitted';
// }

if ($_SERVER['REQUEST_METHOD'] == 'POST') {

$sname = "localhost";
$uname = "root";
$pass = "";
$dbname = "student_portal";

$con = mysqli_connect($sname, $uname, $pass, $dbname);

if (!$con) {
    die("connection Failed: ".mysqli_connect_error());
}

}

?>

 <?php
$query = "SELECT * FROM course";
$res = mysqli_query($con,$query);

?> 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" type="text/css" href="home-style.css"> -->
    <link rel="stylesheet" type="text/css" href="connect-style.css">

    <title>Home- Eligible List </title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" /> -->

    <script>

        // Make functioning a Search Field

        $(document).ready(function(){
            $("#search").on("keyup", function() {
                var value = $(this).val().toLowerCase();
            $("#table-search tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });

    </script>

    </head>
        <body>
            <!-- Navigation -->
          <nav>
            <div class="nav">
                <ul>
                    <li class="home-nav"><a href="home.php">Home</a></li>
                    <li><a href="index_course.php">Courses</a></li>
                    <li><a href="index_university.php">University</a></li>
                    <li><a href="contact.php">Contact Us</a></li> 
                </ul>
            </div>
          </nav>


        <!-- Logo -->

        <a href="home.php"><svg width="406" height="114" viewBox="0 0 406 114" fill="none" xmlns="http://www.w3.org/2000/svg" class="logo">
            <path d="M163.719 52.252C161.967 52.252 160.383 51.952 158.967 51.352C157.575 50.752 156.471 49.888 155.655 48.76C154.839 47.632 154.419 46.3 154.395 44.764H159.795C159.867 45.796 160.227 46.612 160.875 47.212C161.547 47.812 162.459 48.112 163.611 48.112C164.787 48.112 165.711 47.836 166.383 47.284C167.055 46.708 167.391 45.964 167.391 45.052C167.391 44.308 167.163 43.696 166.707 43.216C166.251 42.736 165.675 42.364 164.979 42.1C164.307 41.812 163.371 41.5 162.171 41.164C160.539 40.684 159.207 40.216 158.175 39.76C157.167 39.28 156.291 38.572 155.547 37.636C154.827 36.676 154.467 35.404 154.467 33.82C154.467 32.332 154.839 31.036 155.583 29.932C156.327 28.828 157.371 27.988 158.715 27.412C160.059 26.812 161.595 26.512 163.323 26.512C165.915 26.512 168.015 27.148 169.623 28.42C171.255 29.668 172.155 31.42 172.323 33.676H166.779C166.731 32.812 166.359 32.104 165.663 31.552C164.991 30.976 164.091 30.688 162.963 30.688C161.979 30.688 161.187 30.94 160.587 31.444C160.011 31.948 159.723 32.68 159.723 33.64C159.723 34.312 159.939 34.876 160.371 35.332C160.827 35.764 161.379 36.124 162.027 36.412C162.699 36.676 163.635 36.988 164.835 37.348C166.467 37.828 167.799 38.308 168.831 38.788C169.863 39.268 170.751 39.988 171.495 40.948C172.239 41.908 172.611 43.168 172.611 44.728C172.611 46.072 172.263 47.32 171.567 48.472C170.871 49.624 169.851 50.548 168.507 51.244C167.163 51.916 165.567 52.252 163.719 52.252ZM194.08 26.872V30.94H187.384V52H182.344V30.94H175.648V26.872H194.08ZM202.725 26.872V42.424C202.725 44.128 203.169 45.436 204.057 46.348C204.945 47.236 206.193 47.68 207.801 47.68C209.433 47.68 210.693 47.236 211.581 46.348C212.469 45.436 212.913 44.128 212.913 42.424V26.872H217.989V42.388C217.989 44.524 217.521 46.336 216.585 47.824C215.673 49.288 214.437 50.392 212.877 51.136C211.341 51.88 209.625 52.252 207.729 52.252C205.857 52.252 204.153 51.88 202.617 51.136C201.105 50.392 199.905 49.288 199.017 47.824C198.129 46.336 197.685 44.524 197.685 42.388V26.872H202.725ZM231.643 26.872C234.283 26.872 236.599 27.388 238.591 28.42C240.607 29.452 242.155 30.928 243.235 32.848C244.339 34.744 244.891 36.952 244.891 39.472C244.891 41.992 244.339 44.2 243.235 46.096C242.155 47.968 240.607 49.42 238.591 50.452C236.599 51.484 234.283 52 231.643 52H222.859V26.872H231.643ZM231.463 47.716C234.103 47.716 236.143 46.996 237.583 45.556C239.023 44.116 239.743 42.088 239.743 39.472C239.743 36.856 239.023 34.816 237.583 33.352C236.143 31.864 234.103 31.12 231.463 31.12H227.899V47.716H231.463ZM253.704 30.94V37.24H262.164V41.236H253.704V47.896H263.244V52H248.664V26.836H263.244V30.94H253.704ZM289.316 52H284.276L272.864 34.756V52H267.824V26.836H272.864L284.276 44.116V26.836H289.316V52ZM311.397 26.872V30.94H304.701V52H299.661V30.94H292.965V26.872H311.397ZM316.082 26.872H321.374L317.486 35.944H314.03L316.082 26.872ZM333.664 52.252C331.912 52.252 330.328 51.952 328.912 51.352C327.52 50.752 326.416 49.888 325.6 48.76C324.784 47.632 324.364 46.3 324.34 44.764H329.74C329.812 45.796 330.172 46.612 330.82 47.212C331.492 47.812 332.404 48.112 333.556 48.112C334.732 48.112 335.656 47.836 336.328 47.284C337 46.708 337.336 45.964 337.336 45.052C337.336 44.308 337.108 43.696 336.652 43.216C336.196 42.736 335.62 42.364 334.924 42.1C334.252 41.812 333.316 41.5 332.116 41.164C330.484 40.684 329.152 40.216 328.12 39.76C327.112 39.28 326.236 38.572 325.492 37.636C324.772 36.676 324.412 35.404 324.412 33.82C324.412 32.332 324.784 31.036 325.528 29.932C326.272 28.828 327.316 27.988 328.66 27.412C330.004 26.812 331.54 26.512 333.268 26.512C335.86 26.512 337.96 27.148 339.568 28.42C341.2 29.668 342.1 31.42 342.268 33.676H336.724C336.676 32.812 336.304 32.104 335.608 31.552C334.936 30.976 334.036 30.688 332.908 30.688C331.924 30.688 331.132 30.94 330.532 31.444C329.956 31.948 329.668 32.68 329.668 33.64C329.668 34.312 329.884 34.876 330.316 35.332C330.772 35.764 331.324 36.124 331.972 36.412C332.644 36.676 333.58 36.988 334.78 37.348C336.412 37.828 337.744 38.308 338.776 38.788C339.808 39.268 340.696 39.988 341.44 40.948C342.184 41.908 342.556 43.168 342.556 44.728C342.556 46.072 342.208 47.32 341.512 48.472C340.816 49.624 339.796 50.548 338.452 51.244C337.108 51.916 335.512 52.252 333.664 52.252Z" fill="#243138"/>
            <path d="M201.158 88.648C201.158 89.992 200.834 91.252 200.186 92.428C199.562 93.604 198.566 94.552 197.198 95.272C195.854 95.992 194.15 96.352 192.086 96.352H187.874V106H182.834V80.872H192.086C194.03 80.872 195.686 81.208 197.054 81.88C198.422 82.552 199.442 83.476 200.114 84.652C200.81 85.828 201.158 87.16 201.158 88.648ZM191.87 92.284C193.262 92.284 194.294 91.972 194.966 91.348C195.638 90.7 195.974 89.8 195.974 88.648C195.974 86.2 194.606 84.976 191.87 84.976H187.874V92.284H191.87ZM216.4 106.252C214.048 106.252 211.888 105.7 209.92 104.596C207.952 103.492 206.392 101.968 205.24 100.024C204.088 98.056 203.512 95.836 203.512 93.364C203.512 90.916 204.088 88.72 205.24 86.776C206.392 84.808 207.952 83.272 209.92 82.168C211.888 81.064 214.048 80.512 216.4 80.512C218.776 80.512 220.936 81.064 222.88 82.168C224.848 83.272 226.396 84.808 227.524 86.776C228.676 88.72 229.252 90.916 229.252 93.364C229.252 95.836 228.676 98.056 227.524 100.024C226.396 101.968 224.848 103.492 222.88 104.596C220.912 105.7 218.752 106.252 216.4 106.252ZM216.4 101.752C217.912 101.752 219.244 101.416 220.396 100.744C221.548 100.048 222.448 99.064 223.096 97.792C223.744 96.52 224.068 95.044 224.068 93.364C224.068 91.684 223.744 90.22 223.096 88.972C222.448 87.7 221.548 86.728 220.396 86.056C219.244 85.384 217.912 85.048 216.4 85.048C214.888 85.048 213.544 85.384 212.368 86.056C211.216 86.728 210.316 87.7 209.668 88.972C209.02 90.22 208.696 91.684 208.696 93.364C208.696 95.044 209.02 96.52 209.668 97.792C210.316 99.064 211.216 100.048 212.368 100.744C213.544 101.416 214.888 101.752 216.4 101.752ZM245.962 106L240.418 96.208H238.042V106H233.002V80.872H242.434C244.378 80.872 246.034 81.22 247.402 81.916C248.77 82.588 249.79 83.512 250.462 84.688C251.158 85.84 251.506 87.136 251.506 88.576C251.506 90.232 251.026 91.732 250.066 93.076C249.106 94.396 247.678 95.308 245.782 95.812L251.794 106H245.962ZM238.042 92.428H242.254C243.622 92.428 244.642 92.104 245.314 91.456C245.986 90.784 246.322 89.86 246.322 88.684C246.322 87.532 245.986 86.644 245.314 86.02C244.642 85.372 243.622 85.048 242.254 85.048H238.042V92.428ZM273.164 80.872V84.94H266.468V106H261.428V84.94H254.732V80.872H273.164ZM292.249 101.212H282.241L280.585 106H275.293L284.329 80.836H290.197L299.233 106H293.905L292.249 101.212ZM290.881 97.18L287.245 86.668L283.609 97.18H290.881ZM307.651 102.004H315.931V106H302.611V80.872H307.651V102.004Z" fill="#407AFE"/>
            <path d="M134 47.0753V50.0879C134 50.4873 133.849 50.8705 133.58 51.153C133.311 51.4354 132.947 51.5941 132.567 51.5941H128.267V53.8535C128.267 55.1013 127.304 56.1129 126.117 56.1129H55.8833C54.696 56.1129 53.7333 55.1013 53.7333 53.8535V51.5941H49.4333C49.0532 51.5941 48.6886 51.4354 48.4198 51.153C48.151 50.8705 48 50.4873 48 50.0879V47.0753C48 46.7773 48.0841 46.486 48.2417 46.2383C48.3993 45.9905 48.6232 45.7975 48.8853 45.6835L90.4519 29.1145C90.8029 28.9618 91.1971 28.9618 91.5481 29.1145L133.115 45.6835C133.377 45.7975 133.601 45.9905 133.758 46.2383C133.916 46.486 134 46.7773 134 47.0753ZM129.7 104.314H52.3C49.9251 104.314 48 106.337 48 108.832V111.845C48 112.244 48.151 112.628 48.4198 112.91C48.6886 113.193 49.0532 113.351 49.4333 113.351H132.567C132.947 113.351 133.311 113.193 133.58 112.91C133.849 112.628 134 112.244 134 111.845V108.832C134 106.337 132.075 104.314 129.7 104.314ZM62.3333 59.1255V95.276H55.8833C54.696 95.276 53.7333 96.2877 53.7333 97.5354V101.301H128.267V97.5354C128.267 96.2877 127.304 95.276 126.117 95.276H119.667V59.1255H108.2V95.276H96.7333V59.1255H85.2667V95.276H73.8V59.1255H62.3333Z" fill="#407AFE"/>
            <path d="M64.8781 71.0587L45.5 92.2018L26.1219 71.0587C11.5984 71.7457 0 84.7108 0 100.712V102.84C0 108.713 4.36719 113.478 9.75 113.478H81.25C86.6328 113.478 91 108.713 91 102.84V100.712C91 84.7108 79.4016 71.7457 64.8781 71.0587ZM2.7625 17.6913L4.0625 18.0237V30.9666C2.64062 31.8975 1.625 33.5153 1.625 35.4656C1.625 37.3273 2.55938 38.8787 3.87969 39.8316L0.710938 53.6389C0.365625 55.1681 1.1375 56.7417 2.25469 56.7417H10.7453C11.8625 56.7417 12.6344 55.1681 12.2891 53.6389L9.12031 39.8316C10.4406 38.8787 11.375 37.3273 11.375 35.4656C11.375 33.5153 10.3594 31.8975 8.9375 30.9666V19.3091L22.3438 22.833C20.5969 26.6449 19.5 30.9001 19.5 35.4656C19.5 51.1346 31.1391 63.8337 45.5 63.8337C59.8609 63.8337 71.5 51.1346 71.5 35.4656C71.5 30.9001 70.4234 26.6449 68.6562 22.833L88.2172 17.6913C91.9141 16.7161 91.9141 11.6852 88.2172 10.7101L49.5422 0.515279C46.9016 -0.17176 44.1187 -0.17176 41.4781 0.515279L2.7625 10.6879C-0.914062 11.663 -0.914062 16.7161 2.7625 17.6913Z" fill="#243138"/>
        </svg></a>


        <!-- Seach Field -->

        <input id="search" type="text" placeholder="Search..">

       

    <!-- Dropdown box for select stream -->
    <div id="stream-filter">
        <select name="fetchval" id="fetchval">  
            <option value="Select Value" disabled="" selected="">Select Stream</option>
            <option value="Management">Management</option>
            <option value="Arts">Arts</option>
            <option value="Medicine">Medicine</option>
            <option value="Nursing">Nursing</option>
        </select>
    </div>


    <div class="fetch">
        <table>
        <!-- Table header -->
            <tr>
                <th>Course ID </th>
                <th>Course Name</th>
                <th>University Name</th>
                <th>Duration</th>
                <th>Requirement</th>
                <th>Language</th>
            </tr>

        <!-- Fetching Data from Database -->
        <?php 
            while ($row = mysqli_fetch_array($res)) 
            {
            
        ?>

        <!-- Insert Data to Table -->
          <tbody id="table-search">
            <tr>
                <td> <?php echo $row['course_id'] ?> </td>
                <td> <?php echo $row['course_name'] ?> </td>
                <td> <?php echo $row['institute_name'] ?> </td>
                <td style="text-align: center;"> <?php echo $row['duration'] ?> </td>
                <td> <?php echo $row['criteria'] ?> </td>
                <td> <?php echo $row['language'] ?> </td>
            </tr>
            <?php
            }
            ?>
            </tbody>
        </table>
    </div>
    
    <!-- Get space at bottom -->
    <p style="margin-top: 200px;"></p>

    <!-- Function of Select Stream filter -->
    <script type="text/javascript">
        $(document).ready(function(){
            $("#fetchval").on('change', function(){
                var value = $(this).val();
                // alert(value); 
                $.ajax({
                    url:"fetches.php",
                    type:"POST",
                    data:'request=' + value,
                    beforeSend:function(){
                        $(".fetch").html("<span>Working...</span>");
                    },
                    success:function(data){
                        $(".fetch").html(data);
                    }
                });
            });
        });

    </script>


</body>
</html>
